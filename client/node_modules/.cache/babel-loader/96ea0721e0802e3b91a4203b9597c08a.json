{"ast":null,"code":"var _jsxFileName = \"/Users/skykim/Desktop/workspace/RS-company/Apollo-GraphQL-NodeJS-React/client/src/components/Recipe/AddRecipe.js\";\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { Mutation } from 'react-apollo';\nimport { ADD_RECIPE } from '../../queries/index';\nimport Error from '../Error';\n\nclass AddRecipe extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = { // name : '',\n      // instructions : '',\n      // category : 'Breakfast',\n      // description:'',\n      // username:''\n      ...initialState\n    };\n\n    this.clearState = () => {\n      this.setState({ ...initialState\n      });\n    };\n\n    this.handleChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      console.log(name, ':', value);\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handSubmit = (event, addRecipe) => {\n      event.preventDefault();\n      addRecipe().then(({\n        data\n      }) => {\n        console.log(data);\n      });\n      this.clearState();\n      this.props.history.push(\"/\");\n    };\n\n    this.validateForm = () => {\n      const {\n        name,\n        category,\n        description,\n        instructions\n      } = this.state;\n      const isInvalid = !name || !category || !description || !instructions;\n      return isInvalid;\n    };\n  }\n\n  componentDidMount() {\n    // console.log(this.props.session.getCurrentUser.username);\n    this.setState({// username: this.props.session.getCurrentUser.username\n    });\n  }\n\n  render() {\n    const {\n      name,\n      category,\n      description,\n      instructions,\n      username\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Mutation, {\n      mutation: ADD_RECIPE,\n      variables: {\n        name,\n        category,\n        description,\n        instructions,\n        username\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }, (addRecipe, {\n      data,\n      loading,\n      error\n    }) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"App\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        className: \"App\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 25\n        }\n      }, \"Add AddRecipe\"), /*#__PURE__*/React.createElement(\"form\", {\n        className: \"form\",\n        onSubmit: event => this.handSubmit(event, addRecipe),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        placeholder: \"Recipe Name\",\n        onChange: this.handleChange,\n        value: name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"select\", {\n        name: \"category\",\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"Breakfast\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 33\n        }\n      }, \" Breakfast \"), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"Breakfast\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 33\n        }\n      }, \" Lunch \"), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"Breakfast\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 33\n        }\n      }, \" Dinner \"), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"Breakfast\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 33\n        }\n      }, \" Snack \")), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"description\",\n        placeholder: \"Add description\",\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"textarea\", {\n        name: \"instructions\",\n        placeholder: \"Add Instructions\",\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        disabled: loading || this.validateForm(),\n        type: \"submit\",\n        className: \"button-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 29\n        }\n      }, \" Submit \"), error && /*#__PURE__*/React.createElement(Error, {\n        error: error,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 39\n        }\n      })));\n    });\n  }\n\n}\n\n;\nexport default AddRecipe;","map":{"version":3,"sources":["/Users/skykim/Desktop/workspace/RS-company/Apollo-GraphQL-NodeJS-React/client/src/components/Recipe/AddRecipe.js"],"names":["React","withRouter","Mutation","ADD_RECIPE","Error","AddRecipe","Component","state","initialState","clearState","setState","handleChange","event","name","value","target","console","log","handSubmit","addRecipe","preventDefault","then","data","props","history","push","validateForm","category","description","instructions","isInvalid","componentDidMount","render","username","loading","error"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {withRouter} from 'react-router-dom';\n\nimport {Mutation} from 'react-apollo';\nimport { ADD_RECIPE } from '../../queries/index';\nimport Error from '../Error';\n\n\nclass AddRecipe extends React.Component {\n    state = {\n        // name : '',\n        // instructions : '',\n        // category : 'Breakfast',\n        // description:'',\n        // username:''\n        ...initialState\n    };\n\n    clearState = () => {\n        this.setState({ ...initialState});\n    }\n\n    componentDidMount() {\n        // console.log(this.props.session.getCurrentUser.username);\n        this.setState({\n            // username: this.props.session.getCurrentUser.username\n        })\n    }\n\n    handleChange = event => {\n        const {name, value} = event.target;\n        console.log(name, ':', value);\n        this.setState({\n            [name] : value\n\n        });\n    }\n\n    handSubmit = (event, addRecipe ) => {\n        event.preventDefault();\n        addRecipe().then(({ data }) => {\n            console.log(data);\n        });\n        this.clearState();\n        this.props.history.push(\"/\");\n    }\n\n    validateForm = () => {\n        const { name, category, description, instructions } = this.state;\n        const isInvalid = !name || !category || !description || !instructions;\n        return isInvalid;\n    }\n\n    render(){\n        const{name, category, description, instructions, username} = this.state;\n   \n       return(\n            <Mutation mutation={ADD_RECIPE} variables={{ name, category, description, instructions, username }}>\n            {(addRecipe, { data, loading, error }) => {\n               return (\n                    <div className=\"App\"> \n                        <h2 className=\"App\">Add AddRecipe</h2>\n                        <form className=\"form\" onSubmit={ event => this.handSubmit(event, addRecipe)}>\n                            <input type=\"text\" name=\"name\" placeholder=\"Recipe Name\" onChange={this.handleChange} value={name} />\n                            <select name=\"category\" onChange={this.handleChange}>\n                                <option value=\"Breakfast\"> Breakfast </option>\n                                <option value=\"Breakfast\"> Lunch </option>\n                                <option value=\"Breakfast\"> Dinner </option>\n                                <option value=\"Breakfast\"> Snack </option>\n                            </select>\n                            <input type=\"text\" name=\"description\" placeholder=\"Add description\" onChange={this.handleChange} />\n                            <textarea name=\"instructions\" placeholder=\"Add Instructions\" onChange={this.handleChange}></textarea>\n                            <button disabled={loading || this.validateForm()} type=\"submit\" className=\"button-primary\"> Submit </button>\n                            {error && <Error error={error}/> }\n                        </form>\n                    </div>\n            )\n        }}\n        </Mutation>\n       )\n\n    }\n};\n\nexport default AddRecipe"]},"metadata":{},"sourceType":"module"}